/***************************************
* @preserve
* ForeSee Client Code: Utils Library
* http://www.answers.com/page/businesssolutions
* Built October 19, 16 14:25:42
* Code version: 19.0.35
* Template version: 19.0.35
***************************************/
("undefined"!=typeof _acsDefine?_acsDefine:define)(["require","_acs","triggerconfig","recordconfig"],function(t,e,config,n){function i(t,e){var n=(65535&t)+(65535&e),i=(t>>16)+(e>>16)+(n>>16);return i<<16|65535&n}function r(t,e){return t<<e|t>>>32-e}function o(t,e,n,o,s,a){return i(r(i(i(e,t),i(o,a)),s),n)}function s(t,e,n,i,r,s,a){return o(e&n|~e&i,t,e,r,s,a)}function a(t,e,n,i,r,s,a){return o(e&i|n&~i,t,e,r,s,a)}function c(t,e,n,i,r,s,a){return o(e^n^i,t,e,r,s,a)}function h(t,e,n,i,r,s,a){return o(n^(e|~i),t,e,r,s,a)}function u(t,e){t[e>>5]|=128<<e%32,t[(e+64>>>9<<4)+14]=e;var n,r,o,l,u,d=1732584193,f=-271733879,p=-1732584194,g=271733878;for(n=0;n<t.length;n+=16)r=d,o=f,l=p,u=g,d=s(d,f,p,g,t[n],7,-680876936),g=s(g,d,f,p,t[n+1],12,-389564586),p=s(p,g,d,f,t[n+2],17,606105819),f=s(f,p,g,d,t[n+3],22,-1044525330),d=s(d,f,p,g,t[n+4],7,-176418897),g=s(g,d,f,p,t[n+5],12,1200080426),p=s(p,g,d,f,t[n+6],17,-1473231341),f=s(f,p,g,d,t[n+7],22,-45705983),d=s(d,f,p,g,t[n+8],7,1770035416),g=s(g,d,f,p,t[n+9],12,-1958414417),p=s(p,g,d,f,t[n+10],17,-42063),f=s(f,p,g,d,t[n+11],22,-1990404162),d=s(d,f,p,g,t[n+12],7,1804603682),g=s(g,d,f,p,t[n+13],12,-40341101),p=s(p,g,d,f,t[n+14],17,-1502002290),f=s(f,p,g,d,t[n+15],22,1236535329),d=a(d,f,p,g,t[n+1],5,-165796510),g=a(g,d,f,p,t[n+6],9,-1069501632),p=a(p,g,d,f,t[n+11],14,643717713),f=a(f,p,g,d,t[n],20,-373897302),d=a(d,f,p,g,t[n+5],5,-701558691),g=a(g,d,f,p,t[n+10],9,38016083),p=a(p,g,d,f,t[n+15],14,-660478335),f=a(f,p,g,d,t[n+4],20,-405537848),d=a(d,f,p,g,t[n+9],5,568446438),g=a(g,d,f,p,t[n+14],9,-1019803690),p=a(p,g,d,f,t[n+3],14,-187363961),f=a(f,p,g,d,t[n+8],20,1163531501),d=a(d,f,p,g,t[n+13],5,-1444681467),g=a(g,d,f,p,t[n+2],9,-51403784),p=a(p,g,d,f,t[n+7],14,1735328473),f=a(f,p,g,d,t[n+12],20,-1926607734),d=c(d,f,p,g,t[n+5],4,-378558),g=c(g,d,f,p,t[n+8],11,-2022574463),p=c(p,g,d,f,t[n+11],16,1839030562),f=c(f,p,g,d,t[n+14],23,-35309556),d=c(d,f,p,g,t[n+1],4,-1530992060),g=c(g,d,f,p,t[n+4],11,1272893353),p=c(p,g,d,f,t[n+7],16,-155497632),f=c(f,p,g,d,t[n+10],23,-1094730640),d=c(d,f,p,g,t[n+13],4,681279174),g=c(g,d,f,p,t[n],11,-358537222),p=c(p,g,d,f,t[n+3],16,-722521979),f=c(f,p,g,d,t[n+6],23,76029189),d=c(d,f,p,g,t[n+9],4,-640364487),g=c(g,d,f,p,t[n+12],11,-421815835),p=c(p,g,d,f,t[n+15],16,530742520),f=c(f,p,g,d,t[n+2],23,-995338651),d=h(d,f,p,g,t[n],6,-198630844),g=h(g,d,f,p,t[n+7],10,1126891415),p=h(p,g,d,f,t[n+14],15,-1416354905),f=h(f,p,g,d,t[n+5],21,-57434055),d=h(d,f,p,g,t[n+12],6,1700485571),g=h(g,d,f,p,t[n+3],10,-1894986606),p=h(p,g,d,f,t[n+10],15,-1051523),f=h(f,p,g,d,t[n+1],21,-2054922799),d=h(d,f,p,g,t[n+8],6,1873313359),g=h(g,d,f,p,t[n+15],10,-30611744),p=h(p,g,d,f,t[n+6],15,-1560198380),f=h(f,p,g,d,t[n+13],21,1309151649),d=h(d,f,p,g,t[n+4],6,-145523070),g=h(g,d,f,p,t[n+11],10,-1120210379),p=h(p,g,d,f,t[n+2],15,718787259),f=h(f,p,g,d,t[n+9],21,-343485551),d=i(d,r),f=i(f,o),p=i(p,l),g=i(g,u);return[d,f,p,g]}function d(t){var e,n="";for(e=0;e<32*t.length;e+=8)n+=String.fromCharCode(t[e>>5]>>>e%32&255);return n}function f(t){var e,n=[];for(n[(t.length>>2)-1]=void 0,e=0;e<n.length;e+=1)n[e]=0;for(e=0;e<8*t.length;e+=8)n[e>>5]|=(255&t.charCodeAt(e/8))<<e%32;return n}function p(t){return d(u(f(t),8*t.length))}function g(t,e){var n,i,r=f(t),o=[],s=[];for(o[15]=s[15]=void 0,r.length>16&&(r=u(r,8*t.length)),n=0;n<16;n+=1)o[n]=909522486^r[n],s[n]=1549556828^r[n];return i=u(o.concat(f(e)),512+8*e.length),d(u(s.concat(i),640))}function m(t){var e,n,i="0123456789abcdef",r="";for(n=0;n<t.length;n+=1)e=t.charCodeAt(n),r+=i.charAt(e>>>4&15)+i.charAt(15&e);return r}function v(t){return decodeURIComponent(encodeURIComponent(t))}function y(t){return p(v(t))}function b(t){return m(y(t))}function w(t,e){return g(v(t),v(e))}function S(t,e){return m(w(t,e))}var _={};_.md5=function(t,e,n){return e?n?w(e,t):S(e,t):n?y(t):b(t)},_.isDefined=function(t){return null!==t&&"undefined"!=typeof t},_.isFunction=function(t){return"function"==typeof t},_.isObject=function(t){return"object"==typeof t},_.isArray=function(t){return"[object Array]"==Object.prototype.toString.call(t)},_.isDate=function(t){return t instanceof Date},_.escapeRegExp=function(t){return(t||"").toString().replace(/([-.*+?^${}()|[\]\/\\])/g,"\\$1")},_.trim=function(t){return(t||"").toString().replace(/\s+/g," ").replace(/^\s+|\s+$/g,"")},_.stripHTML=function(t){return(t||"").replace(/(<([^>]+)>)/gi,"")},_.proxy=function(t,e){var n,i,r=Function.prototype.bind,o=Array.prototype.slice;return r&&t.bind===r?r.apply(t,o.call(arguments,1)):(n=o.call(arguments,2),i=function(){if(!(this instanceof i))return t.apply(e,n.concat(o.call(arguments)));ctor.prototype=t.prototype;var r=ctor();ctor.prototype=null;var s=t.apply(r,n.concat(o.call(arguments)));return Object(s)===s?s:r})},_.superDispose=function(t){if(t){if(t.length)for(var e=t.length-1;e>=0;e--)t[e]=null;for(var n in t){var i=typeof t[n];"function"!=i&&"object"!=i||(t[n]=null)}}t=null},_.ext=function(){var t,e,n,i=arguments,r=i[0]||{},o=1,s=i.length,a=arguments[arguments.length-1]===!1;for("object"==typeof r||_.isFunction(r)||(r={}),s===o&&(r=this,--o);o<s;o++)if(_.isDefined(t=i[o]))for(e in t)n=t[e],r!==n&&void 0!==n&&(_.isArray(n)?n=n.slice(0):_.isDate(n)?n=new Date(n.getTime()):"object"!=typeof n||a||(n=_.ext({},n)),r[e]=n);return r},_.merge=function(){var t,e,n,i,r,o={},s=arguments;for(t=0,e=s.length;t<e;t++)if(r=s[t],_.isPlainObject(r))for(var a in r)n=r[a],i=o[a],o[a]=i&&_.isPlainObject(n)&&_.isPlainObject(i)?_.merge(i,n):_.unlink(n);return o},_.unlink=function(t){var e,n;if(_.isPlainObject(t)){e={};for(var i in t)e[i]=_.unlink(t[i])}else if(_.isArray(t))for(e=[],n=0,l=t.length;n<l;n++)e[n]=_.unlink(t[n]);else e=t;return e},_.isPlainObject=function(t){if(!t||"[object Object]"!==Object.prototype.toString.call(t)||t.nodeType||t.setInterval)return!1;if(t.constructor&&!hasOwnProperty.call(t,"constructor")&&!hasOwnProperty.call(t.constructor.prototype,"isPrototypeOf"))return!1;var e;for(e in t);return void 0===e||hasOwnProperty.call(t,e)||!hasOwnProperty.call(t,e)&&hasOwnProperty.call(Object.prototype,e)},_.isString=function(t){return"string"==typeof t},_.getSize=function(t){var e=0,n=0,i=t.document,r=i.documentElement;return"number"==typeof t.innerWidth?(e=t.innerWidth,n=t.innerHeight):r&&(r.clientWidth||r.clientHeight)?(e=r.clientWidth,n=r.clientHeight):i.body&&(i.body.clientWidth||i.body.clientHeight)&&(e=i.body.clientWidth,n=i.body.clientHeight),{w:e,h:n}},_.getScroll=function(t){var e=0,n=0,i=t.document,r=i.documentElement;return"number"==typeof t.pageYOffset?(n=t.pageYOffset,e=t.pageXOffset):i.body&&(i.body.scrollLeft||i.body.scrollTop)?(n=i.body.scrollTop,e=i.body.scrollLeft):r&&(r.scrollLeft||r.scrollTop)&&(n=r.scrollTop,e=r.scrollLeft),{x:e,y:n}},_.setScroll=function(t,e,n){t.scrollTo(e,n)},_.getScreenResolution=function(){var t=window.screen;return _.isDefined(t)&&_.isDefined(t.width)&&"number"==typeof t.width?{w:t.width,h:t.height}:{w:0,h:0}},_.getParam=function(t){var e={},n=(location.href.replace(/[?&]+([^=&]+)=([^&]*)/gi,function(t,n,i){e[n]=i}),e[t]);return n?decodeURIComponent(n):n},_.getFrameWindow=function(t){var e;return t&&t.contentWindow?e=t.contentWindow:t&&t.contentDocument&&t.contentDocument.defaultView&&(e=t.contentDocument.defaultView),e&&e!=e.top?e:null};var x={};_.preventDefault=function(t){t&&t.preventDefault?t.preventDefault():window.event&&window.event.returnValue?window.eventReturnValue=!1:t.returnValue=!1};var O=[],I=function(t){var e="default";if(t.indexOf(":")>-1){var n=t.split(":");e=n[0],t=n[1]}return x[e]||(x[e]={}),x[e][t]||(x[e][t]=[]),{ns:e,en:t}};_.Bind=function(t,e,n,i){if(t&&e){e=e.toLowerCase();var r=I(e);if(x[r.ns][r.en].push({elem:t,cb:n,ub:!!i}),e.indexOf("unload")>-1)return void O.push(n);"propertychange"!=r.en&&t.addEventListener?t.addEventListener(r.en,n,!i):t.attachEvent&&t.attachEvent("on"+r.en,n)}},_.BindOnce=function(t,e,n){if(t&&e){var i=I(e);if(t["_acsEvent"+i.en])return;t["_acsEvent"+i.en]=!0,_.Bind(t,e,n)}};var E=function(t,e,n,i){e&&(e.parentNode||e.window||9==e.nodeType)&&("propertychange"!=t&&e.removeEventListener?e.removeEventListener(t,n,!i):e.detachEvent&&e.detachEvent("on"+t,n))};_.Unbind=function(t,e,n,i){var r,o,s,a;if(e&&e.indexOf("unload")>-1){for(a=0;a<O.length;a++)if(O[a]==n){O.splice(a,1);break}}else if(0===arguments.length)for(var l in x)_.Unbind(l+":*"),delete x[l];else if("string"==typeof t)if(r=I(t),"default"==r.ns){for(var c in x)if(x.hasOwnProperty(c)){o=x[c];for(var h in o)if(o.hasOwnProperty(h)&&(h==r.en||"*"==r.en))for(a=0;a<o[h].length;a++)s=o[h][a],E(h,s.elem,s.cb,s.ub),o[h].splice(a--,1)}}else{o=x[r.ns];for(var u in o)if(o.hasOwnProperty(u)&&(u==r.en||"*"==r.en))for(a=0;a<o[u].length;a++)s=o[u][a],E(u,s.elem,s.cb,s.ub),o[u].splice(a--,1)}else if(t&&!e){for(var d in x)if(x.hasOwnProperty(d)){o=x[d];for(var f in o)if(o.hasOwnProperty(f))for(a=0;a<o[f].length;a++)s=o[f][a],s.elem===t&&(E(f,s.elem,s.cb,s.ub),o[f].splice(a--,1))}}else if(t&&e)if(r=I(e),"default"==r.ns){for(var p in x)if(x.hasOwnProperty(p)){o=x[p];for(var g in o)if(o.hasOwnProperty(g)&&(g==r.en||"*"==r.en))for(a=0;a<o[g].length;a++)s=o[g][a],s.elem===t&&(E(g,s.elem,n?n:s.cb,s.ub),o[g].splice(a--,1))}}else{r=I(e),o=x[r.ns];for(var m in o)if(o.hasOwnProperty(m)&&(m==r.en||"*"==r.en))for(a=0;a<o[m].length;a++)s=o[m][a],s.elem===t&&(E(m,s.elem,n?n:s.cb,s.ub),o[m].splice(a--,1))}};var C=!1;if(_.preventUnloadFlag=!1,_._preventUnloadFor=function(t){C=!0,setTimeout(function(){C=!1},t)},_.HandleUnload=function(){if(!C&&!_.preventUnloadFlag){for(var t=O.length-1;t>=0;t--)try{O[t].call()}catch(t){}_.superDispose(O),_.Unbind()}},document.addEventListener?(window.addEventListener("beforeunload",_.HandleUnload,!0),window.addEventListener("pagehide",_.HandleUnload,!0),document.addEventListener("unload",_.HandleUnload,!0)):document.attachEvent&&window.attachEvent("onunload",_.HandleUnload),_.FSEvent=function(){this.id="_"+Math.round(99999*Math.random()),this.subscriptions=[],this.didFire=!1},_.FSEvent.prototype.subscribe=function(t,e,n){return this.subscriptions.push({once:!!e,cb:t}),n&&this.didFire&&(this.prevArgs?this.fire.apply(this,this.prevArgs):this.fire()),{unsubscribe:function(t,e){return function(){t.unsubscribe(e)}}(this,t)}},_.FSEvent.prototype.unsubscribe=function(t){for(var e=0;e<this.subscriptions.length;e++)this.subscriptions[e].cb==t&&(this.subscriptions.splice(e,1),e--)},_.FSEvent.prototype.unsubscribeAll=function(){this.subscriptions=[]},_.FSEvent.prototype.fire=function(){this.didFire=!0,this.prevArgs=arguments;for(var t=0;t<this.subscriptions.length;t++){var e=this.subscriptions[t];e.once&&this.subscriptions.splice(t--,1),e.cb.apply(this,arguments)}},_.pageNavEvent=new _.FSEvent,_.honorNavigationEvents=!0,history&&history.pushState){window.addEventListener("popstate",function(t){!C&&_.honorNavigationEvents&&_.pageNavEvent.fire()});var F=history.pushState;history.pushState=function(){F.apply(history,arguments),!C&&_.honorNavigationEvents&&_.pageNavEvent.fire()}}var k,B=function(){if(this.supportsLocalStorage=!!localStorage,localStorage)try{localStorage.setItem("a","b")}catch(t){this.supportsLocalStorage=!1}this.sig=k||"not detected"};B.prototype.detect=function(t){var e,n=[],i=navigator,r="_fsrFP_",o=new Date,s=o.getTimezoneOffset();this.supportsLocalStorage&&(e=localStorage.getItem(r)),!e&&k&&(e=k),e||(n=this._getAgent().concat(n),n.push(i.language||""),n.push(i.hardwareConcurrency||""),n.push(i.platform||""),n.push(i.vendor||""),n.push(i.appName||""),n.push(i.maxTouchPoints||""),n.push(i.doNotTrack||"false"),n.push(s.toString()),n.push(this._getCanvasPrint()),e=_.md5(n.sort().join("")),this.sig=e,this.supportsLocalStorage&&localStorage.setItem(r,e)),t&&t(e)},B.prototype._getAgent=function(){var t=_.trim(navigator.userAgent).split(" ");return t},B.prototype._getCanvasPrint=function(){try{var t=document.createElement("canvas"),e=t.getContext("2d"),n="ForeSee,CloudUser <canvas> 1.0";return t.width=250,t.height=30,e.textBaseline="top",e.font="14px 'Arial'",e.textBaseline="alphabetic",e.fillStyle="#f60",e.fillRect(125,1,62,20),e.fillStyle="#069",e.fillText(n,2,15),e.fillStyle="rgba(102, 204, 0, 0.7)",e.fillText(n,4,17),t.toDataURL()}catch(t){return"nocanvas"}},_.Fingerprint=B,_.FULL_DAY=864e5,_.now=function(){return+new Date},_.startTime=_.now(),_.makeURI=e.makeURI,_.addClass=function(t,e){var n,i,r,o;for(_.isDefined(t.length)||(t=[t]),n=0,i=t.length;n<i;n++)r=t[n],o=r.className||"",new RegExp("\\b"+e+"\\b").test(o)||(r.className=(""===o?"":o+" ")+e)},_.removeClass=function(t,e){var n,i,r;for(_.isDefined(t.length)||(t=[t]),n=0,i=t.length;n<i;n++)r=t[n],r.className&&(r.className=r.className.replace(new RegExp("(\\s|^)"+e+"(\\s|$)")," ").replace(/^\s+|\s+$/g,""))},_.hasClass=function(t,e){return t.className.indexOf(e)>-1},_.css=function(t,e,n){if(t){_.isDefined(t.length)||(t=[t]);for(var i=0;i<t.length;i++)for(var r in e)r&&("zIndex".indexOf(r)==-1&&"number"==typeof e[r]&&"opacity"!=r&&(e[r]+="px"),n?t[i].style.cssText+=";"+r+":"+e[r]+" !important":t[i].style[r]=e[r])}return t},_.attr=function(t,e){if(t){_.isDefined(t.length)||(t=[t]);for(var n=0;n<t.length;n++)for(var i in e)t[n].setAttribute(i,e[i])}return t},_.restrictFocus=function(t){for(var e=document.querySelectorAll("a, input[type=text], textarea, button, input[type=radio], select, *[tabIndex]",t).sort(function(t,e){return parseInt(t.tabIndex)>parseInt(e.tabIndex)}),n=function(t){return function(e){var n,i;if(9===e.keyCode)for(n=0;n<t.length;n++)if(t[n]===e.target){if(e.preventDefault?e.preventDefault():e.returnValue=!1,i=n,e.shiftKey){do i=0===i?t.length-1:i-1;while((t[i].offsetLeft<=0||t[i].tabIndex<0)&&i!=n)}else do i=(i+1)%t.length;while((t[i].offsetLeft<=0||t[i].tabIndex<0)&&i!=n);t[i].focus();break}}},i=0;i<e.length;i++){var r=e[i];_.Unbind(r,"keydown"),_.Bind(r,"keydown",n(e))}},_.hideAll=function(t){var e,n=document.body.querySelectorAll("*");for(e=0;e<n.length;e++)_.css(n[e],{display:"none"})},_.elindex=function(t){for(var e,n=t.parentNode.childNodes,i=0,r=0;(e=n.item(i++))&&e!=t;)1==e.nodeType&&r++;return r};for(var D=navigator.userAgent.replace(/[\s\\\/\.\(\);:]/gim,""),N="",T=0;T<D.length-1;T+=D.length/7)N+=Number(D.charCodeAt(Math.round(T))%16).toString(16);N.length>7&&(N=N.substr(N.length-7)),_.generateGUID=function(){var t=_.now()+"";return N+"-"+D.length+t.substr(t.length-6)+"-xxxx-xxxx-xxxxx".replace(/[xy]/g,function(t){var e=16*Math.random()|0,n="x"==t?e:3&e|8;return n.toString(16)})},_.testSameDomain=function(t,e){var n=document.createElement("a");n.href=location.href;var i=n.hostname,r=n.protocol;n.href=t;var o=n.hostname||i,s=0===n.protocol.indexOf("http")?n.protocol:r;n.href=e;var a=n.hostname||i,l=0===n.protocol.indexOf("http")?n.protocol:r;return o.toLowerCase()==a.toLowerCase()&&s.toLowerCase()==l.toLowerCase()},_.addParameterToURL=function(t,e){return t+=(t.split("?")[1]?"&":"?")+e},_.toQueryString=function(t,e){e=e||"";var n=e+(e.indexOf("?")>-1?"&":"?");if(t)for(var i in t)n+=encodeURIComponent(i)+"="+encodeURIComponent(t[i])+"&";return n},_.hash=function(t){var e=t.split("_");return 3*e[0]+1357+""+(9*e[1]+58)},_.hashCode=function(t){var e,n=0,i="";if(0===t.length)return n;for(e=0;e<t.length;e++)i=t.charCodeAt(e),n=(n<<5)-n+i,n&=n;return n},_.testAgainstSearch=function(t,e){var n,i,r;if(t=t.replace(/^\s+|\s+$/g,"").replace(/[\*]{2,}/g,"*").toLowerCase(),e=e.toLowerCase(),"*"==t)return!0;for(i=[];t.indexOf("*")>-1;)t.indexOf("*")>0&&i.push(t.substr(0,t.indexOf("*"))),i.push("*"),t=t.substr(t.indexOf("*")+1);for(t.length>0&&i.push(t),n=0!==i.length,r=0;r<i.length;r++)if(t=i[r],"*"==t){if(i.length>r+1){if(r++,e.indexOf(i[r])==-1){n=!1;break}e=e.substr(e.indexOf(i[r])+i[r].length)}if(r==i.length-1&&"*"!==i[r]&&e!=i[r]&&e!=i[r]+"/"&&i[r]!=e+"/"&&e.length>0&&"/"!=e){n=!1;break}}else{if(e.substr(0,t.length)!=t&&e!=t+"/"&&t!=e+"/"){n=!1;break}if(e=e.substr(t.length),r==i.length-1&&e.length>0&&"/"!=e){n=!1;break}}return!!n},_.getRootDomain=function(t){t=((t||window.location.hostname)+"").toLowerCase(),t=t.replace("https://","").replace("http://","");var e=t.indexOf("/");if(e>-1&&(t=t.substr(0,e)),e=t.indexOf("?"),e>-1&&(t=t.substr(0,e)),e=t.indexOf(":"),e>-1&&(t=t.substr(0,e)),t.indexOf("localhost")>-1||0===t.replace(/[0-9\.]/g,"").length)return t;var n=t.split("."),i=n.length;return n.length>2&&"co"==n[i-2]?n[i-3]+"."+n[i-2]+"."+n[i-1]:n.length>1?n[i-2]+"."+n[i-1]:t};var j=function(config,t){this.fp=new _.Fingerprint,this.cfg=config||{config:{site_id:(window.location.host+"").replace(/www\./gi,"").split(":")[0],repeatDays:90}},this.cfg.product=this.cfg.product||t||"foresee",this.storId="acs.t";var e=_.getRootDomain(),n=(this.cfg.config.persistence,{path:"/",domain:e,secure:!1,encode:!0});this.ckie=new _.Cookie(n);var i=this.ckie.get(this.storId);this.data=JSON.parse(i||"{}"),i?this.setNewRepeatDays(new Date(this.data._ckX)):this.setNewRepeatDays(90),_.FrameController.isSupported()&&(this.fstg=new _.FrameController(this.cfg.config.site_id,this.cfg.product));var r=this.get("rid");r||this.set("rid",_.generateGUID())};j.prototype.setNewRepeatDays=function(t){var e=new Date;return _.isDate(t)?e=t:e.setTime(e.getTime()+24*t*60*60*1e3),this.data._ckX=e.getTime(),this.ckie&&(this.ckie.set(this.storId,this.ckie.get(this.storId)||"{}",{expires:e}),this.ckie.opts.expires=e,this.save()),e},j.prototype.save=function(){var t=JSON.stringify(this.data);this.ckie.set(this.storId,t),_.FrameController.isSupported()&&this.fstg&&this.fstg.set(this.storId,t)},j.prototype.set=function(t,e){this.data[t]=e,this.save()},j.prototype.setSession=function(t,e){sessionStorage.setItem(t,JSON.stringify(e))},j.prototype.get=function(t){var e,n=sessionStorage.getItem(t);if(_.isDefined(n))return JSON.parse(n);if(this.data=JSON.parse(this.ckie.get(this.storId)||"{}"),_.isArray(t)){e={};for(var i=0;i<t.length;i++)e[t[i]]=this.data[t[i]];return e}return this.data[t]},j.prototype.erase=function(t){if(this.data=JSON.parse(this.ckie.get(this.storId)||"{}"),this.data[t]){delete this.data[t];var e=JSON.stringify(this.data);return this.ckie.set(this.storId,e),_.FrameController.isSupported()&&this.fstg.set(this.storId,e),!0}return!1},j.prototype.reset=function(){this.ckie.kill(this.storId),this.data={},_.FrameController.isSupported()&&this.fstg.set(this.storId,JSON.stringify(this.data))};var A;if(_.getGlobalStore=function(config,t){return A||(A=new j(config,t)),A},_.AjaxTransport=function(t){var e={method:"POST",data:{},contentType:"application/x-www-form-urlencoded",success:function(){},failure:function(){}};this.options=_.ext(e,t)},_.AjaxTransport.prototype.send=function(t){var e=_.ext({},this.options,t||{});window.XDomainRequest?this._sendViaXDR(e):window.XMLHttpRequest&&this._sendViaXHR(e),e=null},_.AjaxTransport.prototype.dispose=function(){_.superDispose(this.options)},_.AjaxTransport.isSupported=function(){return!0},_.AjaxTransport.initialize=function(t){t.call(_.AjaxTransport)},_.AjaxTransport.prototype._sendViaXHR=function(t){var e=new window.XMLHttpRequest,n=_.isDefined(t.skipEncode)&&t.skipEncode===!0?t.data:_.toQueryString(t.data),i=t.url;t.failure=t.failure||function(){},"GET"==t.method&&n&&n.length>0&&(n=n.replace("?",""),i+=i.indexOf("?")>-1?"&":"?",i+=n);try{e.open(t.method,i,!0)}catch(t){return}e.setRequestHeader("Accept","*/*"),e.setRequestHeader("Content-Type",t.contentType),e.onreadystatechange=function(t,e){return function(){4==e.readyState&&200==e.status?t.success&&t.success.apply(t,[e.responseText]):4==e.readyState&&200!=e.status&&t.failure&&t.failure.apply(t,[e.responseText])}}(t,e),e.send(n)},_.AjaxTransport.prototype._sendViaXDR=function(t){var e=_.isDefined(t.skipEncode)&&t.skipEncode===!0?t.data:_.toQueryString(t.data,null,!1),n=t.url;t.failure=t.failure||function(){},"GET"==t.method&&e&&e.length>0&&(e=e.replace("?",""),n+=n.indexOf("?")>-1?"&":"?",n+=e);var i=new window.XDomainRequest;i.onerror=t.failure,i.ontimeout=t.failure,i.onprogress=function(){},i.onload=function(t,e){return function(){e.success(t.responseText),t=null,e=null}}(i,t),i.timeout=6e4;try{i.open(t.method,n)}catch(e){return void(t.failure&&t.failure(e))}e&&_.isString(e)?i.send(e):i.send()},!window.btoa){var L="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",R=new Array((-1),(-1),(-1),(-1),(-1),(-1),(-1),(-1),(-1),(-1),(-1),(-1),(-1),(-1),(-1),(-1),(-1),(-1),(-1),(-1),(-1),(-1),(-1),(-1),(-1),(-1),(-1),(-1),(-1),(-1),(-1),(-1),(-1),(-1),(-1),(-1),(-1),(-1),(-1),(-1),(-1),(-1),(-1),62,(-1),(-1),(-1),63,52,53,54,55,56,57,58,59,60,61,(-1),(-1),(-1),(-1),(-1),(-1),(-1),0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,(-1),(-1),(-1),(-1),(-1),(-1),26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,(-1),(-1),(-1),(-1),(-1));window.btoa=function(t){var e,n,i,r,o,s;for(i=t.length,n=0,e="";i>n;){if(r=255&t.charCodeAt(n++),n==i){e+=L.charAt(r>>2),e+=L.charAt((3&r)<<4),e+="==";break}if(o=t.charCodeAt(n++),n==i){e+=L.charAt(r>>2),e+=L.charAt((3&r)<<4|(240&o)>>4),e+=L.charAt((15&o)<<2),e+="=";break}s=t.charCodeAt(n++),e+=L.charAt(r>>2),e+=L.charAt((3&r)<<4|(240&o)>>4),e+=L.charAt((15&o)<<2|(192&s)>>6),e+=L.charAt(63&s)}return e},window.atob=function(t){var e,n,i,r,o,s,a;for(s=t.length,o=0,a="";s>o;){do e=R[255&t.charCodeAt(o++)];while(s>o&&-1==e);if(-1==e)break;do n=R[255&t.charCodeAt(o++)];while(s>o&&-1==n);if(-1==n)break;a+=String.fromCharCode(e<<2|(48&n)>>4);do{if(i=255&t.charCodeAt(o++),61==i)return a;i=R[i]}while(s>o&&-1==i);if(-1==i)break;a+=String.fromCharCode((15&n)<<4|(60&i)>>2);do{if(r=255&t.charCodeAt(o++),61==r)return a;r=R[r]}while(s>o&&-1==r);if(-1==r)break;a+=String.fromCharCode((3&i)<<6|r)}return a}}var P=function(t,e){this.loadSuccess=new _.FSEvent,this.loadFailure=new _.FSEvent,this.st=document.createElement("script"),this.st.type="text/javascript",this.st.src=t,e&&(this.st.id=e),this.br=new _.Browser,"undefined"!=typeof this.st.addEventListener?this._loadOnOthers():"undefined"!=typeof this.st.attachEvent&&this._loadOnIE()};P.prototype._loadOnIE=function(){var t=this,e=this.st;e.onreadystatechange=function(){3==e.readyState&&(e.onreadystatechange=function(){t.loadSuccess.fire(e.src),t.loadFailure=null},t.loadFailure&&t.loadFailure.fire(e.src))},document.body.appendChild(e)},P.prototype._loadOnOthers=function(){this.st.addEventListener("load",_.proxy(function(){this.loadSuccess.fire(this.st.src)},this),!1),this.st.addEventListener("error",_.proxy(function(){this.loadFailure.fire(this.st.src)},this),!1),document.body.appendChild(this.st)};var U={elmToReplace:null,flashIsInstalled:null,defaultFlashVersion:7,replace:function(t,e,n,i,r,o,s){if(s=_.ext(s||{},{movie:e,allowscriptaccess:"always",wmode:"transparent",parentChild:window.top==window?"parent":"child"}),this.elmToReplace=t,this.flashIsInstalled=this.checkForFlash(o||this.defaultFlashVersion),this.elmToReplace&&this.flashIsInstalled){var a="<object"+(window.ActiveXObject?' id="'+n+'" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" data="'+e+'"':"");a+=' width="'+i+'"',a+=' height="'+r+'"',a+=">";var l="",c="";for(var h in s)l+='<param name="'+h+'" value="'+s[h]+'">',c+=" "+h+'="'+s[h]+'"';var u='<embed id="'+n+'" src="'+e+'" type="application/x-shockwave-flash" width="'+i+'" height="'+r+'"',d=c+"></embed>",f="</object>";this.elmToReplace.innerHTML=a+l+u+d+f}},checkForFlash:function(t){this.flashIsInstalled=!1;var e;if(window.ActiveXObject)try{e=new ActiveXObject("ShockwaveFlash.ShockwaveFlash."+t),this.flashIsInstalled=!0}catch(t){}else if(navigator.plugins&&navigator.mimeTypes.length>0&&(e=navigator.plugins["Shockwave Flash"])){var n=navigator.plugins["Shockwave Flash"].description.replace(/.*\s(\d+\.\d+).*/,"$1");this.version=n,n>=t&&(this.flashIsInstalled=!0)}return this.flashIsInstalled}};_.Flash=function(){};var W={swfFile:_.makeURI("foresee/acs_utils.swf"),container:"_acs_swfContainerV3",size:{w:1,h:1},flashMajorVersion:"9"},M={};_.Flash.isSupported=function(){return U.checkForFlash()},_.Flash.getVersion=function(){if(navigator.plugins&&navigator.mimeTypes.length>0&&(flash=navigator.plugins["Shockwave Flash"],flash)){var t=navigator.plugins["Shockwave Flash"].description.replace(/.*\s(\d+\.\d+).*/,"$1");return t}return 0},_.Flash.initialize=function(t,e){if(this.flash_object=document.getElementById(W.container+"_"),this.flash_object)return t.call(e,this);var n=document.createElement("div");n.id=W.container,_.css(n,{position:"absolute",top:1,left:1,width:1,height:1,minWidth:1,minHeight:1,padding:0,margin:0,display:"block",visibility:"visible"}),document.body.appendChild(n);var i=document.body;_.css(n,{top:i.scrollTop+1,left:i.scrollLeft+1}),U.replace(n,W.swfFile,W.container+"_",1,1),this._monitorReady(t,e)},_.Flash._monitorReady=function(t,e){var n=_.Flash,i=this;n._checkTimer=setInterval(function(){var n=_.Flash;i.flash_object=document.getElementById(W.container+"_"),i.flash_object&&i.flash_object.isAlive&&t&&(clearInterval(n._checkTimer),t.call(e,i),t=null)},20),n=null},_.Async=function(t,e,n){this.isParallel=!!t,this._queue=[],this.success=e,this.fail=n,this.isPending=!0},_.Async.prototype.enqueue=function(t){this._queue.push({fn:t,resolved:!1}),(this.isParallel||1==this._queue.length)&&t.apply(this,[{resolve:_.proxy(function(){setTimeout(_.proxy(function(){this.ctx.resolve(this.cb)},this),20)},{cb:t,ctx:this}),error:_.proxy(function(){this.ctx.error(this.cb)},{cb:t,ctx:this})}])},_.Async.prototype.resolve=function(t){if(this.isPending){if(!t)throw new Error("Missing caller argument.");var e,n,i=!1;for(e=0;e<this._queue.length;e++)n=this._queue[e],n.fn===t?n.resolved=!0:n.resolved||(i=!0);if(!this.isParallel&&i){var r;for(e=0;e<this._queue.length;e++)if(n=this._queue[e],n.resolved===!1){r=n;break}if(r)return void r.fn.apply(this,[{resolve:_.proxy(function(){this.ctx.resolve(this.cb)},{cb:r.fn,ctx:this}),error:_.proxy(function(){this.ctx.error(this.cb)},{cb:r.fn,ctx:this})}])}i||(this.isPending=!1,this.success.call(this))}},_.Async.prototype.error=function(){this.isPending=!1,this.fail&&this.fail.call(this)},_.randomRange=function(t,e){return t+Math.random()*(e-t)},_.dedupe=function(t){var e,n;for(e=t.length-1;e>=0;e--)for(n=e-1;n>=0;n--)t[n]==t[e]&&t.splice(e,1);return t},_.arrayIndexOf=function(t,e){for(var n in e)if(e[n]===t)return n;return-1},_.inArray=function(t,e){return _.arrayIndexOf(t,e)!=-1},_.WindowStorage=function(t,e,n){t||(t="STORAGE"),this.guid="FSR_"+t.replace(/[- _.&]/g,"").toUpperCase(),this.storageLimit=5e6,this.StorageFull=new _.FSEvent,this.kill(),this.sync(),_.isDefined(e)&&!e||setTimeout(_.proxy(function(){_.Bind(window,"unload",_.proxy(function(){this.commit()},this))},this),100)},_.WindowStorage.prototype.testStorageLimit=function(){return this.storageBytesObj+this.storageBytesBlob>=this.storageLimit&&(this.StorageFull.fire(this),!0)},_.WindowStorage.prototype.dispose=function(t){this._data_obj[t]&&(delete this._data_obj[t],this.storageBytesObj=JSON.stringify(this._data_obj).length)},_.WindowStorage.prototype.kill=function(){this.storageBytesObj=0,this.storageBytesBlob=0,this._data_obj={},this._data_blob="",this.isNewStorage=!0},_.WindowStorage.prototype.get=function(t){return this._data_obj[t]},_.WindowStorage.prototype.getBlob=function(){return this._data_blob},_.WindowStorage.prototype.set=function(t,e){e&&(this._data_obj[t]=e,this.storageBytesObj=JSON.stringify(this._data_obj).length,this.isNewStorage=!1,this.testStorageLimit())},_.WindowStorage.prototype.setBlob=function(t){this._data_blob=t,this.storageBytesBlob=this._data_blob.length,this.isNewStorage=!1,this.testStorageLimit()},_.WindowStorage.prototype.isNew=function(){return this.isNewStorage},_.WindowStorage.initialize=function(t){t.apply(_.WindowStorage)},_.WindowStorage.isSupported=function(){return!0},_.WindowStorage.prototype.sync=function(){var t=_.nameBackup||window.name||"",e=this.guid+"_",n="",i=t.indexOf(e+"BEGIN_OBJ");i>-1&&(n=t.substr(i+(e+"BEGIN_OBJ").length,t.indexOf(e+"END_OBJ")-(i+(e+"BEGIN_OBJ").length)));try{n.length>0&&(this._data_obj=JSON.parse(n),this.storageBytesObj=n.length,this.isNewStorage=!1)}catch(t){}n="",i=t.indexOf(e+"BEGIN_BLOB"),i>-1&&(n=t.substr(i+(e+"BEGIN_BLOB").length,t.indexOf(e+"END_BLOB")-(i+(e+"BEGIN_BLOB").length)));try{n.length>0&&(this._data_blob=n,this.storageBytesBlob=n.length,this.isNewStorage=!1)}catch(t){}},_.WindowStorage.prototype.commit=function(){var t=window.name;_.isDefined(t)||(t="");var e=this.guid+"_",n=t.indexOf(e+"BEGIN_OBJ"),i=JSON.stringify(this._data_obj),r=e+"BEGIN_OBJ"+i+e+"END_OBJ";n>-1?t=t.substr(0,n)+r+t.substr(t.indexOf(e+"END_OBJ")+(e+"END_OBJ").length):t+=r,n=t.indexOf(e+"BEGIN_BLOB"),r=e+"BEGIN_BLOB"+this._data_blob+e+"END_BLOB",n>-1?t=t.substr(0,n)+r+t.substr(t.indexOf(e+"END_BLOB")+(e+"END_BLOB").length):t+=r,window.name=_.nameBackup=t,this.storageBytes=window.name.length},_.nameBackup=window.name;var J=!1;return _.FrameController=function(t,n){this.frameId="_acsTransportFrame",this.product=n||"foresee";var i=_.makeURI(this.product+"/fs.storageframe.html?d="+document.domain);i.indexOf("localhost")==-1&&i.indexOf("127.0.0.1")==-1&&("//"==i.substr(0,2)&&(i="https:"+i),i=i.replace("http:","https:")),this.isSSL=i.toLowerCase().indexOf("https")>-1,this.isSSL&&(i=i.replace(/:[0-9]+/gi,"")),this.iframeSrc=i,this.ready=new _.FSEvent,this.trackerMsg=new _.FSEvent,this.trackerHeartbeat=new _.FSEvent,this._3pDisabled=J,this._setVals={},this._ajaxCalls={},this._syncCalls={},e.domReady(_.proxy(function(){this._ensureFrame()},this)),this._namespace=t,_.Bind(window,"message",_.proxy(function(t){this._onMessage(t)},this))},_.FrameController.prototype._ensureFrame=function(){if(this._iframeElement=document.getElementById(this.frameId),!this._iframeElement){var t=document.createElement("iframe");t.src=this.iframeSrc,t.id=this.frameId,t.className="ACS_",t.style.display="none",t.setAttribute("title","ForeSee Storage Frame"),t.setAttribute("_fsrB",!0),t._csrf=!0,document&&document.body&&document.body.appendChild(t),this._iframeElement=t,this.ready.didFire&&(this.ready=new _.FSEvent)}},_.FrameController.prototype._postMessage=function(t,e){this._ensureFrame();var n=JSON.stringify({src:"acstop",namespace:this._namespace,method:t,params:e||{}}),i=_.proxy(function(){this._iframeElement.contentWindow.postMessage(n,"*")},this);this.ready.didFire?i():this.ready.subscribe(i)},_.FrameController.prototype._onMessage=function(t){var e;if(t.data&&(t.data+"").indexOf("storageframe")!=-1){try{e=JSON.parse(t.data)}catch(t){return}if("storageframe"==e.src)switch(this.ready.didFire||this.ready.fire(),e.method){case"ajaxreturn":var n=e.params.params.ajaxid;this._ajaxCalls[n]&&this._ajaxCalls[n].cb&&(this._ajaxCalls[n].cb(!!e.params.success,e.params.res||""),delete this._ajaxCalls[n]);break;case"trackermsg":var i=JSON.parse(e.params);this.trackerMsg.fire(i);break;case"trackerhb":this.trackerHeartbeat.fire();break;case"syncreturn":var r=e.params.params.syncid;this._syncCalls[r]&&this._syncCalls[r].cb&&(this._syncCalls[r].cb(e.params.res||{}),delete this._ajaxCalls[r]);break;case"securityerror":this._3pDisabled=J=!0}}},_.FrameController.prototype.set=function(t,e){var n="fsFCvals"+this._namespace;return localStorage.getItem(n)&&(this._setVals=JSON.parse(localStorage.getItem(n))),this._setVals[t]=e,this._3pDisabled?void localStorage.setItem(n,JSON.stringify(this._setVals)):this._postMessage("set",{key:t,value:e})},_.FrameController.prototype.sync=function(t,e){if(e=e||this._namespace,!this._3pDisabled){var n="_"+Math.round(1e5*Math.random());return this._syncCalls[n]={payload:{syncid:n,nso:e},cb:t},this._postMessage("sync",this._syncCalls[n].payload)}var i="fsFCvals"+nsoverride;localStorage.getItem(i)&&(this._setVals=JSON.parse(localStorage.getItem(i))),t(this._setVals)},_.FrameController.prototype.ajax=function(t,e,n,i,r,o){if(!this._3pDisabled){var s="_"+Math.round(999999*Math.random());return r=!!r,o=o||"application/x-www-form-urlencoded",this._ajaxCalls[s]={payload:{method:t,url:e,data:n,ajaxid:s,skipencode:r,contenttype:o},cb:i},this._postMessage("ajax",this._ajaxCalls[s].payload)}var a=new _.AjaxTransport({url:e,method:t,skipEncode:r,
contentType:o,success:_.proxy(function(t){i(!0,t||"")},this),failure:_.proxy(function(t){i(!1,t||"")},this),data:n});a.send()},_.FrameController.isSupported=function(){return!!window.postMessage},_.FlashTransport=function(t){this.options=_.ext({url:"",data:"",gSessionId:"",sessionId:"",domain:"",version:"",metaData:"",siteId:"",success:function(){},failure:function(){},WAIT_TIMEOUT:1e4},t)},_.FlashTransport.prototype.send=function(t){var e=_.ext(this.options,t),n=document.getElementById(W.container+"_");if(n&&n.ping){var i=_.generateGUID();M[i]={_this:this,_success:e.success,_failure:e.failure},"data"==e.action?n.sendData(e.data,e.url,i,e.gSessionId,e.sessionId,e.domain,e.siteId,e.version,e.encoding,e.metaData):n.ping(e.url,i,e.sessionId,e.siteId)}e=null},_.FlashTransport.isSupported=function(){return U.isSupported()},_.FlashTransport.initialize=function(t){_.Flash.initialize(t,_.FlashTransport)},_.FlashTransport.dispose=function(){_.Flash.dispose()},window._acsFlashTransportResponse=function(t,e){var n=JSON.parse(e);n.status&&n.status>0?M[t]._success.call(M[t]._this,e):M[t]._failure.call(M[t]._this,e),delete M[t]},_.ImageTransport=function(t){var e={data:{},success:function(){},failure:function(){}};this.options=_.ext(e,t)},_.ImageTransport.prototype.send=function(t){var e=_.ext(this.options,t),n=new Image;n.onerror=e.failure,n.onload=function(){e.success({width:n.width,height:n.height})},n.src=_.toQueryString(e.data,e.url,!1)},window.__fsJSONPCBr={},window.__fsJSONPCB=_.proxy(function(t){if(t){var e=t.filename,n=atob(t.contents);window.__fsJSONPCBr[e]&&window.__fsJSONPCBr[e].fire(n)}},this),_.JSONP=function(t){this._expireTimeout=null,this._networkError=new _.FSEvent,this.opts=_.ext({success:function(){},failure:function(){},timeout:5e3},t)},_.JSONP.prototype.get=function(t,e){var n=t.indexOf("?")>-1?t.substr(t.indexOf("?")+1):"",i=t.substr(0,t.lastIndexOf("/")+1),r=t.substr(t.lastIndexOf("/")+1),o=window.__fsJSONPCBr;this._expireTimeout=setTimeout(_.proxy(function(){this._networkError.fire({type:"timedout"})},this),this.opts.timeout),r.indexOf("?")>-1&&(r=r.substr(0,r.indexOf("?")));var s=(e||"")+r;if(!o[s]){o[s]=new _.FSEvent;var a=i+r.substr(0,r.lastIndexOf("."))+"___"+r.substr(r.lastIndexOf(".")+1)+".js"+(n.length>0?"?"+n:""),l=new P(a,"_fscl"+s);l.loadFailure.subscribe(_.proxy(function(){this.el.parentNode.removeChild(this.el),this.ctx._networkError.fire({type:"internalserror"})},{ctx:this,el:l.st}))}o[s].subscribe(_.proxy(function(t){this.ctx.opts.success(t),clearTimeout(this.ctx._expireTimeout);var e=document.getElementById(this.tgId);e&&e.parentNode.removeChild(e)},{ctx:this,tgId:"_fscl"+s}),!0,!0),this._networkError.subscribe(_.proxy(function(t){this.opts.failure(t),o[s].unsubscribeAll()},this),!0,!0)},_.sign=function(t){var e=(new Date).getTime(),n=t.substr(t.indexOf("/rec/")),i=_.md5((n+e).toString());return t+=t.indexOf("?")==-1?"?":"&",t+"token="+e+"&sig="+encodeURIComponent(i)},_.imgInfo=function(t,n){var i=function(){};n=n||i;var r=new Image;r.onload=function(){n(r.width,r.height)},r.onerror=function(){},t.indexOf("//")>-1?r.src=t:r.src=e.makeURI("/feedback/"+t),r.width&&(r.onload=r.onerror=i,n(r.width,r.height))},_.getHashParm=function(t){var e=window.location.hash.toString();if(e&&e.length>0)for(var n=e.split("&"),i=0;i<n.length;i++){var r=n[i].split("="),o=r[0].toLowerCase().trim();if(o==t.toLowerCase()){if(r.length>1)return decodeURIComponent(r[1]);break}}},_.Cookie=function(t){this.opts=t||{}},_.Cookie.prototype.set=function(t,e,n){var i,r=this.opts;n&&(r=_.ext({},r,n)),e=_.isDefined(r.encode)?encodeURIComponent(e):e,t=encodeURIComponent(t),"localhost"==r.domain&&delete r.domain;for(var o in r)if(r[o])switch(i=r[o],e+=";"+("duration"==o?"expires":o),o){case"expires":e+="="+(_.isDate(i)?i.toGMTString():i)+";";break;case"duration":e+="="+new Date(_.now()+i*_.FULL_DAY).toGMTString()+";";break;default:e+="="+i}document.cookie=t+"="+e},_.Cookie.prototype.get=function(t){var e=document.cookie.match("(?:^|;)\\s*"+_.escapeRegExp(t)+"=([^;]*)");return e?decodeURIComponent(e[1]):null},_.Cookie.prototype.kill=function(t){var e=new Date;e.setTime(e.getTime()-9999),this.set(t,"",{expires:e})},_.CPPS=function(t,e){this.gs=t||_.getGlobalStore(null,e||"foresee")},_.CPPS.prototype={site_id:function(){return this.gs.cfg.config.site_id},set:function(t,e){var n=this.all();n[t]=e+"",this.gs.set("cp",n)},get:function(t){return this.all()[t]},all:function(){return this.gs.get("cp")||{}},toQueryString:function(){var t=[],e=this.all();for(var n in e)t.push("cpp["+encodeURIComponent(n)+"]="+encodeURIComponent(e[n]));return t.join("&")},erase:function(t){var e=this.all();delete e[t],this.gs.set("cp",e)},save:function(){this.gs.save()},append:function(t,e,n){var i,r,o,s=this.gs.get("cp")||{};s[t]=(s[t]||"")+","+e,n&&(i=s[t].split(","),r=i.length-1,o=i.length>n?i.length-n:0,s[t]=i.splice(o,r-o+1).join()),this.gs.set("cp",s)}},_.DomStorage=function(t,e,n,i){this.isLocal=!!n,t||(t="STORAGE"),this.guid="FSR_"+t.replace(/[- _.&]/g,"").toUpperCase(),this.StorageFull=new _.FSEvent,this.storageLimit=45e5,this.kill(),this.sync(),_.isDefined(e)&&!e||setTimeout(_.proxy(function(){_.Bind(window,"unload",_.proxy(function(){this.commit()},this))},this),100)},_.DomStorage.prototype.testStorageLimit=function(){return this.storageBytesObj+this.storageBytesBlob>=this.storageLimit&&(this.StorageFull.fire(this),!0)},_.DomStorage.prototype.dispose=function(t){this._data_obj[t]&&(delete this._data_obj[t],this.storageBytesObj=JSON.stringify(this._data_obj).length)},_.DomStorage.prototype.kill=function(){this.storageBytesObj=0,this.storageBytesBlob=0,this._data_obj={},this._data_blob="",this.isNewStorage=!0},_.DomStorage.prototype.get=function(t){return this._data_obj[t]},_.DomStorage.prototype.getBlob=function(){return this._data_blob},_.DomStorage.prototype.set=function(t,e){e&&(this._data_obj[t]=e,this.storageBytesObj=JSON.stringify(this._data_obj).length,this.isNewStorage=!1,this.testStorageLimit())},_.DomStorage.prototype.setBlob=function(t){this._data_blob=t,this.storageBytesBlob=this._data_blob.length,this.isNewStorage=!1,this.testStorageLimit()},_.DomStorage.prototype.isNew=function(){var t;return window.opener&&!this.get("isNew")&&(t=!0,this.set("isNew",t)),t||this.isNewStorage},_.DomStorage.initialize=function(t){t.apply(_.DomStorage)},_.DomStorage.isSupported=function(){return!!localStorage},_.DomStorage.prototype.sync=function(){var t;try{t=localStorage.getObject(this.guid+"_OBJ"),t&&t.length>0&&(this._data_obj=JSON.parse(t),this.storageBytesObj=t.length,this.isNewStorage=!1)}catch(t){}try{t=localStorage.getObject(this.guid+"_BLOB"),t&&t.length>0&&(this._data_blob=t,this.storageBytesBlob=t.length,this.isNewStorage=!1)}catch(t){}},_.DomStorage.prototype.commit=function(){try{localStorage.setItem(this.guid+"_OBJ",JSON.stringify(this._data_obj)),localStorage.setItem(this.guid+"_BLOB",this._data_blob)}catch(t){}},_.Browser=function(t){var e=this;e.os={name:"",version:0},e.browser={name:"",version:0,actualVersion:0},e.agent="",e.isMobile=!1,e.isTablet=!1,e.fp=new _.Fingerprint,e.fp.detect();try{e.supportsLocalStorage=!!localStorage,localStorage&&localStorage.setItem("a","b")}catch(t){e.supportsLocalStorage=!1}e.isIE=!1,e.isZoomable=!0,e.supportsSVG=document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1"),e.isReady=!1,e.browserReady=new _.FSEvent,e.isIos=!1,e.servUrl=location.protocol+"//device.4seeresults.com/detect?accessToken=";var n=e.agent=t||navigator.userAgent;e.isMobile=/iphone|ipad|ipod|android|kindle|silk|bntv|nook|blackberry|playbook|mini|windows\sce|windows\sphone|palm|bb10/i.test(n),e.isWinPhone=/Windows Phone/i.test(n),e.isMobile&&(/iphone|ipad|ipod/i.test(n)&&!e.isWinPhone&&(e.isIos=!0),/ipad|playbook|nook|bntv/i.test(n)&&(e.isTablet=!0));var i=function(t){return n.toLowerCase().indexOf(t.toLowerCase())>-1},r=function(t,e){return"IE"!=t?e:e>6&&e<10?i("Trident")||7!=e?i("Trident/5.0")&&e<=9?9:i("Trident/4.0")&&e<9?i("WOW64")?8:7==e?e:8:e:7:e},o=function(t,e){return e?i("Windows Phone")?"Winphone":i("iPod")?"iPod":i("iPad")?"iPad":i("iPhone")?"iPhone":(i("blackberry")||i("playbook")||i("BB10"))&&i("applewebkit")?"Blackberry":i("Kindle")||i("Silk")?"Kindle":i("BNTV")||i("Nook")?"Nook":i("Android")?"Android":_.isDefined(window.orientation)?"Mobile":"Other":i("Windows")?"Windows":i("OS X")?"Mac":i("Linux")||i("Googlebot")?"Linux":i("Mac")?"Mac":void 0},s=function(t,e){var n,r,o,s;return e?i("windows phone")||!i("ipad")&&!i("iphone")?i("googlebot")?1:(n=t.match(/Windows Phone OS[\/\s](\d+\.?\d+)/)||t.match(/Windows Phone[\/\s](\d+\.?\d+)/)||t.match(/Android[\/\s](\d+\.?\d+)/),o=_.isDefined(n)?n[1]:1,min=parseFloat(o),!isNaN(min)&&min>0?min:o):(n=/OS ([0-9_]*) like/gi.exec(t),r=n[1].split("_"),o=parseInt(r[0]),s=parseInt(r[1]),o+s/10):1},a=function(){if("Winphone"!=e.os.name){var t=document.querySelectorAll("head meta[name=viewport],head meta[name=VIEWPORT],head meta[name=Viewport]")||[];if(_.isArray(t)||(t=[t]),t.length>0){for(var n=function(t,e){var n=new RegExp("[\\w\\W]*"+e+"[\\s]*=[\\s]*([^\\s,;]*)[\\w\\W]*","i");return t?t.match(n):null},i=0;i<t.length;i++){var r=t[i].content,o=n(r,"user-scalable"),s=n(r,"initial-scale"),a=n(r,"maximum-scale");if(o&&o.length>1&&("0"==o[1]||"no"==o[1].toLowerCase()))return!1;if(s&&a)return!(s.length>1&&a.length>1&&1==parseFloat(s[1])&&1==parseFloat(a[1]))}return!0}return!0}return!1},l=_._getBrowserNameAndVersion(n),c=function(){e.browser.name=l.name,e.browser.version=l.version,e.browser.actualVersion=r(e.browser.name,e.browser.version),e.os.name=o(n,e.isMobile),e.os.version=s(n,e.isMobile)},h=function(){e.isZoomable=a(),e.isReady=!0,e.browserReady.fire()},u=function(){c()};if(e.isMobile)if(e.isIos||""===e.servUrl||e.isTablet||e.isWinPhone)u(),h();else{var d,f=function(t){var n=JSON.parse(t);e.browser.name=n.browser.name,e.browser.version=e.browser.actualVersion=n.browser.version,e.os.name=n.os.name,e.os.version=n.os.version,e.isMobile=n.isMobile,e.isTablet=n.isTablet,h()},p=this.supportsLocalStorage;if(p&&!t&&(d=sessionStorage.getItem("ACS_BROWSER")),d)f(d);else{var g=function(t){p&&sessionStorage.setItem("ACS_BROWSER",t),f(t)},m=function(){u(),h()},v=function(){var t=new Date,e=t.getFullYear().toString(),n=(t.getMonth()+1).toString(),i=t.getDate().toString();return e+(n[1]?n:"0"+n[0])+(i[1]?i:"0"+i[0])},y=function(){var t=v()+"ForeSee"+(location.origin||"null");return _.hashCode(t)},b={method:"GET",url:e.servUrl+y()+"&ua="+n,type:"*/*",contentType:"application/x-www-form-urlencoded",success:g,failure:m};new _.AjaxTransport(b,(!0)).send()}}else c(),e.isReady=!0,e.isIE="IE"==e.browser.name,e.browserReady.fire()},_._unsupportedDevice=function(t){for(var e in UNSUPPORTED_DEVICES)if(t.match(UNSUPPORTED_DEVICES[e]))return!0},_._getBrowserNameAndVersion=function(t){var e,n,i="Unknown";return null!==(n=t.match(/Opera[\/\s](\d+\.\d+)/))?i="Opera":null!==(n=t.match(/Edge\/([0-9\.]*)/))?i="IE":null!==(n=t.match(/opr[\/\s](\d+\.\d+)/i))?i="Opera":null!==(n=t.match(/Windows Phone[\/\s](\d+\.\d+)/))?i="IEMobile":null!==(n=t.match(/MSIE (\d+\.\d+)/))?i="IE":null!==(n=t.match(/Navigator[\/\s](\d+\.\d+)/))?i="Netscape":null!==(n=t.match(/Chrome[\/\s](\d+\.\d+)/))?i="Chrome":null!==(n=t.match(/Version\/([0-9\.]*)[\w\W]*Safari/i))?i="Safari":null!==(n=t.match(/Firefox[\/\s](\d+\.\d+)/))?i="Firefox":null!==(n=t.match(/googlebot/gi))?(i="Chrome",e=44):Object.hasOwnProperty.call(window,"ActiveXObject")&&!window.ActiveXObject&&(i="IE",e=11),{name:i,version:e||(null!==n?parseFloat(n[1]):void 0)}},_});